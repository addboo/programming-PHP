# Συναρτήσεις / Functions

Σε αυτό το κεφάλαιο θα φτιάξουμε τις δικές μας συναρτήσεις. Θα κατανοήσετε καλύτερα την λειτουργία των παραμέτρων των συναρτήσεων, καθώς και τις τιμές επιστροφής (return values). Επίσης, θα δούμε πώς μπορούμε να διαχωρίσουμε ένα τεράστιο κομμάτι κώδικα σε άλλα μικρότερα απλοποιώντας το πρόγραμμά μας χρησιμοποιώντας functions.
 
Στον προγραμματισμό είναι ιδιαίτερα σημαντικό να κάνουμε οικονομία στις γραμμές κώδικα. Αυτό συμβαίνει για τους εξής λόγους:
 
1.  Όσο πιο μεγάλο σε γραμμές κώδικα είναι το πρόγραμμά σας, τόσο πιο δύσκολα θα το διαχειρίζεστε. Εάν για παράδειγμα δουλεύετε ένα πρόγραμμα το οποίο έχει 8000 γραμμές κώδικα, όπως καταλαβαίνετε για να συνεχίσετε την ανάπτυξή του, περισσότερο χρόνο θα σπαταλήσετε στη περιήγησή σας στις χιλιάδες γραμμές κώδικα παρά στην ουσιαστική ανάπτυξή του.
2.  Μεγάλο πρόγραμμα σημαίνει κόστος σε ταχύτητα εκτέλεσής του.
3.  Περισσότερες απαιτήσεις σε χωρητικότητα μνήμης RAM.
 
Για αυτό, χρειαζόμαστε τεχνικές οι οποίες μας γλιτώνουν από περιττές γραμμές κώδικα, ενώ παράλληλα δουλεύουμε κώδικα ο οποίος είναι ευέλικτος. Κομμάτι της ευελιξίας είναι και οι Συναρτήσεις (functions) που θα δούμε σε αυτό το κεφάλαιο.
 
Οι Συναρτήσεις είναι κομμάτια κώδικα τα οποία τα επαναχρησιμοποιούμε χωρίς να χρειάζεται να τα ξαναγράψουμε. Με αυτό τον τρόπο τα γράφουμε μια φορά και τα χρησιμοποιούμε πολλές φορές στο πρόγραμμά μας απλά καλώντας το όνομα της συνάρτησης που έχουμε υλοποιήσει. Αυτό επιτυγχάνεται χρησιμοποιώντας παραμέτρους εντός της συνάρτησής μας ώστε να μπορεί να προσαρμόζεται ανάλογα με τις τιμές που δηλώνουμε.
 
Σε κάθε συνάρτηση που δημιουργούμε, δίνουμε και μια ονομασία. Η ονοματοδοσία μιας συνάρτησης θα πρέπει να είναι χαρακτηριστική του σκοπού της υπάρξεώς της (ή της λειτουργίας της). Εάν για παράδειγμα θέλουμε να φτιάξουμε μια συνάρτηση που να προσθέτει δυο αριθμούς, τότε την συνάρτησή μας θα την ονομάσουμε add. Εάν θέλουμε να προσθέτουμε δυο αριθμούς, τότε θα λαμβάνει δύο παραμέτρους η συνάρτησή μας add(number1, number2). Αξίζει να σημειωθεί ότι η ονοματοδοσία θα πρέπει να είναι εύκολη στην απομνημόνευση καθώς θα την χρησιμοποιούμε σε διάφορα σημεία του κώδικά μας καλώντας την.
 
Συνεπώς, δηλώνοντας απλά το όνομα της συνάρτησής μας σε διάφορα σημεία του προγράμματός μας, αυτομάτως καλούμε την συγκεκριμένη συνάρτηση και φορτώνεται ο κώδικας που γράψαμε μέσα στην συγκεκριμένη συνάρτηση. Δηλαδή, με τις συναρτήσεις γράφουμε τον κώδικα μια φορά και τον καλούμε όσες φορές θέλουμε στον κώδικά μας απλά γράφοντας το όνομα της συνάρτησης.
 
Μια συνάρτηση δημιουργείται με την εντολή function και ακολουθεί το όνομα της συνάρτησής μας. Η function σημαίνει την αρχή του κώδικα της συγκεκριμένης συνάρτησης. Τον κώδικα της συνάρτησης τον τοποθετούμε μεταξύ των αγκίστρων `{ }`. Στο ενδιάμεσο τοποθετούμε τις εντολές που επιθυμούμε να εκτελούνται όταν καλούμε την συνάρτηση.

## Πώς δημιουργούμε μια συνάρτηση

Όπως ήδη αναφέρθηκε παραπάνω,  συναρτήσεις αποτελούν το δομικό λίθο στη δημιουργία μιας εφαρμογής. Κάθε συνάρτηση περιέχει ένα σετ εντολών σε μια λογική σειρά έτσι ώστε να αποδίδεται πάντα κάποιο συγκεκριμένο αποτέλεσμα.

Σε συντομία, για τις συναρτήσεις ισχύουν τα εξής:
* Κάθε συνάρτηση πρέπει να φέρει ένα συγκεκριμένο και μοναδικό όνομα (π.χ.: myFunction)
* Η λέξη `function` πρέπει να προηγείται του ονόματος μιας συνάρτησης (π.χ.:  function myFunction)
* Κάθε όνομα συνάρτησης ακολουθείται από ένα ζεύγος παρενθέσεων (π.χ.: function myFunction())
* Το σετ των εντολών κάθε συνάρτησης περιέχεται στα άγκιστρα { και }. (π.χ.: function myFunction() { . . . })
* Κάθε συνάρτηση καλείται με το όνομά της (π.χ.: myFunction())
* Οι εντολές που περιέχει μια συνάρτηση εκτελούνται όταν η συνάρτηση κληθεί με το ονομά της
* Κάθε συνάρτηση μπορεί να κληθεί άπειρες φορές μέσα από ένα σκριπτ
* Κάθε έγγραφο php μπορεί να περιέχει περισσότερες της μίας συναρτήσεις

Η γενική μορφή μιας συνάρτησης είναι:

```
function myFunction()
{
 ...
}
```

#### Παράδειγμα

Στο ακόλουθο απλό παράδειγμα έχει οριστεί μια συνάρτηση με το όνομα Hello() η οποία εκτελείται κάθε φορά που καλείται.

```php
<?php

 function Hello()
 {
    echo("Καλώς ορίσατε στη σελίδα μου");
 }

 Hello();

?>
```

Κατά την εκτέλεση θα εμφανίσει: `Καλώς ορίσατε στη σελίδα μου`


*Σημείωση*
Όταν καλείτε τη συνάρτηση με το όνομά της θα πρέπει να μην ξεχνάτε και τις παρενθέσεις π.χ. Hello() και όχι Hello.

Συναρτήσεις με παραμέτρους

Κάθε συνάρτηση μπορεί να δεχτεί παραμέτρους. Αυτό προσφέρει στη συνάρτηση μεγαλύτερη λειτουργικότητα και περισσότερες δυνατότητες.

Γενικά:
* Μια συνάρτηση μπορεί να έχει περισσότερες της μίας παραμέτρους
* Περισσότερες της μίας παράμετροι, πρέπει να χωρίζονται με κόμμα
* Κάθε παράμετρος πρέπει να έχει μοναδικό όνομα
* Το όνομα κάθε παραμέτρου πρέπει να αποτελείται από αλφαριθμητικά στοιχεία
* Όλες οι παράμετροι καταχωρούνται μέσα στις παρενθέσεις, δίπλα από το όνομα της συνάρτησης
* Όταν καλείται μια συνάρτηση, πρέπει να ορίζονται και οι τιμές για τις αντίστοιχες παραμέτρους


Στο παράδειγμα αυτό, κάθε φορά που καλείται η Hello με διαφορετική τιμή παραμέτρου, εμφανίζεται το αντίστοιχο μήνυμα.

```php
<?php

 function Hello($x)
 {
   echo($x);
 }

 Hello("Καλώς ορίσατε στη σελίδα μου. ");
 Hello("Ελπίζω να σας αρέσει");


?>
```

Κατά την εκτέλεση θα εμφανίσει στην οθόνη: 
`Καλώς ορίσατε στη σελίδα μου. Ελπίζω να σας αρέσει`

Επειδή η συνάρτηση του παραδείγματος είναι παραμετρική, κάθε φορά που καλείται, θα πρέπει να αναφέρεται (μέσα στις παρενθέσεις) και η τιμή της παραμέτρου. Η τιμή της παραμέτρου μπορεί να είναι τύπου `string` ή τύπου `integer` ή όποιουδήποτε άλλου τύπου που υποστηρίζει η php.

Στο παρακάτω παράδειγμα η συνάρτηση `H` υπολογίζει το διπλάσιο ενός αριθμού. Έτσι, αν κληθεί ως `H(10)` θα δώσει σαν αποτέλεσμα το 20.

```php
<?php

 function H($x)
 {
   echo(2*$x);
 }

 H(10);

?>
```

Αποτέλεσμα:
`20`


#### Παρατήρηση
Επειδή η τιμή της παραμέτρου είναι αριθμός, δεν μπαίνει σε εισαγωγικά.


## Συναρτήσεις που επιστρέφουν τιμές
Υπάρχουν περιπτώσεις που ζητάμε από μια συνάρτηση να επιστρέφει μια τιμή ως αποτέλεσμα κάποιας επεξεργασίας. Στην περίπτωση αυτή χρησιμοποιούμε την πρόταση return.

#### Παράδειγμα
Στο παρακάτω παράδειγμα η συνάρτηση getNegative() επιστρέφει τον αντίθετο αριθμό που θα της ζητηθεί.

```php
<?php
function getNegative($x)
{
   $z=-1*$x;
   return $z;
}
?>
```

Ή αν προτιμάτε πιο σύντομα:

```php
function getNegative($x)
{
   return -1 * $x;
}
```

Η πρόταση `return` μπορεί επίσης να χρησιμοποιηθεί για να διακοπεί η εκτέλεση της συνάρτησης σε κάποιο σημείο.

```php
<?php
function getNegative($x)
{
 if($x <= 0)
 {
    echo("Αρνητικός αριθμός”);
    return;
  }
  
  $z =- 1 * $x;
  
  return $z;
}
?>
```


